<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hitaishi Matrimony - Find Your Perfect Life Partner</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body style="margin: 0; padding: 0; font-family: 'Arial', sans-serif; color: #333; background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); min-height: 100vh;">

<!-- Header -->
<div style="background: linear-gradient(135deg, #ff3366, #ff4b2b); color: white; padding: 20px 0; text-align: center; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1); position: fixed; width: 100%; top: 0; z-index: 1000;">
    <h1 style="font-size: 2.5rem; margin-bottom: 5px;">Hitaishi Matrimony</h1>
    <p style="font-size: 1.1rem; opacity: 0.9;">Find Your Perfect Life Partner</p>
    <a href="login2.html" style="position: absolute; right: 20px; top: 50%; transform: translateY(-50%); background: rgba(255, 255, 255, 0.2); color: white; border: 2px solid white; padding: 10px 20px; border-radius: 25px; text-decoration: none; font-weight: 600; transition: all 0.3s ease;">
        <i class="fas fa-sign-in-alt"></i> Log In
    </a>
</div>

<!-- Main Container -->
<div style="max-width: 800px; margin: 180px auto 40px; background: white; padding: 40px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1); position: relative;">

    <!-- Progress Bar -->
    <div style="display: flex; justify-content: space-between; margin-bottom: 30px; position: relative;">
        <div style="position: absolute; top: 15px; left: 0; right: 0; height: 4px; background: #f5f5f5; z-index: 1;"></div>
        <div id="step0" class="progress-step" style="width: 40px; height: 40px; border-radius: 50%; background: #ff3366; color: white; display: flex; align-items: center; justify-content: center; font-weight: bold; position: relative; z-index: 2;">1</div>
        <div id="step1" class="progress-step" style="width: 40px; height: 40px; border-radius: 50%; background: #f5f5f5; color: #333; display: flex; align-items: center; justify-content: center; font-weight: bold; position: relative; z-index: 2;">2</div>
        <div id="step2" class="progress-step" style="width: 40px; height: 40px; border-radius: 50%; background: #f5f5f5; color: #333; display: flex; align-items: center; justify-content: center; font-weight: bold; position: relative; z-index: 2;">3</div>
        <div id="step3" class="progress-step" style="width: 40px; height: 40px; border-radius: 50%; background: #f5f5f5; color: #333; display: flex; align-items: center; justify-content: center; font-weight: bold; position: relative; z-index: 2;">4</div>
        <div id="step4" class="progress-step" style="width: 40px; height: 40px; border-radius: 50%; background: #f5f5f5; color: #333; display: flex; align-items: center; justify-content: center; font-weight: bold; position: relative; z-index: 2;">5</div>
    </div>

    <!-- Section 0: Profile For -->
    <div id="section0" style="display: block;">
        <h2 style="color: #ff3366; text-align: center; margin-bottom: 10px; font-size: 2rem;">Who is this profile for?</h2>
        <p style="color: #666; text-align: center; margin-bottom: 30px; font-size: 1.1rem;">Please select one option to continue</p>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin: 20px 0;">
            <div class="profile-option" data-option="Myself" style="border: 2px solid #ddd; border-radius: 15px; padding: 25px 15px; text-align: center; cursor: pointer; transition: all 0.3s ease; background: white;">
                <div style="font-size: 2.5rem; color: #ff3366; margin-bottom: 15px;"><i class="fas fa-user"></i></div>
                <h3 style="margin: 0 0 10px; color: #333;">Myself</h3>
                <p style="color: #666; margin: 0; font-size: 0.9rem; line-height: 1.4;">I am creating my own profile</p>
            </div>
            <div class="profile-option" data-option="Son" style="border: 2px solid #ddd; border-radius: 15px; padding: 25px 15px; text-align: center; cursor: pointer; transition: all 0.3s ease; background: white;">
                <div style="font-size: 2.5rem; color: #ff3366; margin-bottom: 15px;"><i class="fas fa-male"></i></div>
                <h3 style="margin: 0 0 10px; color: #333;">Son</h3>
                <p style="color: #666; margin: 0; font-size: 0.9rem; line-height: 1.4;">I am creating profile for my son</p>
            </div>
            <div class="profile-option" data-option="Daughter" style="border: 2px solid #ddd; border-radius: 15px; padding: 25px 15px; text-align: center; cursor: pointer; transition: all 0.3s ease; background: white;">
                <div style="font-size: 2.5rem; color: #ff3366; margin-bottom: 15px;"><i class="fas fa-female"></i></div>
                <h3 style="margin: 0 0 10px; color: #333;">Daughter</h3>
                <p style="color: #666; margin: 0; font-size: 0.9rem; line-height: 1.4;">I am creating profile for my daughter</p>
            </div>
            <div class="profile-option" data-option="Brother" style="border: 2px solid #ddd; border-radius: 15px; padding: 25px 15px; text-align: center; cursor: pointer; transition: all 0.3s ease; background: white;">
                <div style="font-size: 2.5rem; color: #ff3366; margin-bottom: 15px;"><i class="fas fa-user-friends"></i></div>
                <h3 style="margin: 0 0 10px; color: #333;">Brother</h3>
                <p style="color: #666; margin: 0; font-size: 0.9rem; line-height: 1.4;">I am creating profile for my brother</p>
            </div>
            <div class="profile-option" data-option="Sister" style="border: 2px solid #ddd; border-radius: 15px; padding: 25px 15px; text-align: center; cursor: pointer; transition: all 0.3s ease; background: white;">
                <div style="font-size: 2.5rem; color: #ff3366; margin-bottom: 15px;"><i class="fas fa-female"></i></div>
                <h3 style="margin: 0 0 10px; color: #333;">Sister</h3>
                <p style="color: #666; margin: 0; font-size: 0.9rem; line-height: 1.4;">I am creating profile for my sister</p>
            </div>
            <div class="profile-option" data-option="Relative/Friend" style="border: 2px solid #ddd; border-radius: 15px; padding: 25px 15px; text-align: center; cursor: pointer; transition: all 0.3s ease; background: white;">
                <div style="font-size: 2.5rem; color: #ff3366; margin-bottom: 15px;"><i class="fas fa-users"></i></div>
                <h3 style="margin: 0 0 10px; color: #333;">Relative/Friend</h3>
                <p style="color: #666; margin: 0; font-size: 0.9rem; line-height: 1.4;">I am creating profile for a relative or friend</p>
            </div>
        </div>
        
        <div id="profile-error" style="color: #dc3545; text-align: center; margin: 15px 0; display: none; font-weight: 600;">
            <i class="fas fa-exclamation-circle"></i> Please select an option to continue
        </div>
        
        <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 40px;">
            <div></div>
            <button onclick="validateProfileSelection()" style="background: linear-gradient(135deg, #ff3366, #ff4b2b); color: white; border: none; padding: 18px 40px; border-radius: 50px; font-size: 18px; font-weight: 600; cursor: pointer; box-shadow: 0 4px 15px rgba(255, 51, 102, 0.3); transition: all 0.3s ease; display: inline-flex; align-items: center; gap: 10px;">
                Continue <i class="fas fa-arrow-right"></i>
            </button>
        </div>
    </div>

    <!-- Section 1: Basic Information -->
    <div id="section1" style="display: none;">
        <h2 style="color: #ff3366; text-align: center; margin-bottom: 10px; font-size: 2rem;">Basic Information</h2>
        <p style="color: #666; text-align: center; margin-bottom: 30px; font-size: 1.1rem;">All fields are mandatory to proceed with registration</p>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
            <div>
                <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #555;">First Name *</label>
                <input type="text" id="firstName" placeholder="Enter your first name" style="width: 100%; padding: 15px; border: 2px solid #ddd; border-radius: 10px; font-size: 16px; transition: all 0.3s ease;">
                <div id="firstName-error" style="color: #dc3545; font-size: 12px; margin-top: 5px; display: none;"></div>
            </div>
            <div>
                <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #555;">Last Name *</label>
                <input type="text" id="lastName" placeholder="Enter your last name" style="width: 100%; padding: 15px; border: 2px solid #ddd; border-radius: 10px; font-size: 16px; transition: all 0.3s ease;">
                <div id="lastName-error" style="color: #dc3545; font-size: 12px; margin-top: 5px; display: none;"></div>
            </div>
            <div>
                <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #555;">Date of Birth *</label>
                <input type="date" id="dob" style="width: 100%; padding: 15px; border: 2px solid #ddd; border-radius: 10px; font-size: 16px; transition: all 0.3s ease;">
                <div id="dob-error" style="color: #dc3545; font-size: 12px; margin-top: 5px; display: none;"></div>
            </div>
            <div>
                <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #555;">Gender *</label>
                <select id="gender" style="width: 100%; padding: 15px; border: 2px solid #ddd; border-radius: 10px; font-size: 16px; transition: all 0.3s ease;">
                    <option value="">Select Gender</option>
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                </select>
                <div id="gender-error" style="color: #dc3545; font-size: 12px; margin-top: 5px; display: none;"></div>
            </div>
            <div>
                <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #555;">Marital Status *</label>
                <select id="maritalStatus" style="width: 100%; padding: 15px; border: 2px solid #ddd; border-radius: 10px; font-size: 16px; transition: all 0.3s ease;">
                    <option value="">Select Marital Status</option>
                    <option value="Never Married">Never Married</option>
                    <option value="Divorced">Divorced</option>
                    <option value="Widowed">Widowed</option>
                    <option value="Separated">Separated</option>
                </select>
                <div id="maritalStatus-error" style="color: #dc3545; font-size: 12px; margin-top: 5px; display: none;"></div>
            </div>
            <div style="grid-column: 1 / -1;">
                <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #555;">Profile Image</label>
                <input type="file" id="profileImage" accept="image/*" style="width: 100%; padding: 15px; border: 2px solid #ddd; border-radius: 10px; font-size: 16px; transition: all 0.3s ease;">
                <div style="margin-top: 15px; text-align: center;">
                    <img id="previewImg" src="" alt="Preview" style="max-width: 150px; border-radius: 10px; border: 2px solid #ddd; display: none;">
                </div>
            </div>
        </div>
        
        <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 40px;">
            <button onclick="showSection(0)" style="background: #f5f5f5; color: #333; border: none; padding: 15px 30px; border-radius: 50px; font-size: 16px; font-weight: 600; cursor: pointer; display: inline-flex; align-items: center; gap: 8px; transition: all 0.3s ease;">
                <i class="fas fa-arrow-left"></i> Back
            </button>
            <button onclick="validateSection(1)" style="background: linear-gradient(135deg, #ff3366, #ff4b2b); color: white; border: none; padding: 18px 40px; border-radius: 50px; font-size: 18px; font-weight: 600; cursor: pointer; box-shadow: 0 4px 15px rgba(255, 51, 102, 0.3); transition: all 0.3s ease; display: inline-flex; align-items: center; gap: 10px;">
                Continue <i class="fas fa-arrow-right"></i>
            </button>
        </div>
    </div>

    <!-- Section 2: Religious & Community Details -->
    <div id="section2" style="display: none;">
        <h2 style="color: #ff3366; text-align: center; margin-bottom: 10px; font-size: 2rem;">Religious & Community Details</h2>
        <p style="color: #666; text-align: center; margin-bottom: 30px; font-size: 1.1rem;">Your religious background helps us find better matches</p>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
            <div>
                <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #555;">Religion *</label>
                <select id="religion" style="width: 100%; padding: 15px; border: 2px solid #ddd; border-radius: 10px; font-size: 16px; transition: all 0.3s ease;">
                    <option value="">Select Religion</option>
                    <option value="Hindu">Hindu</option>
                    <option value="Muslim">Muslim</option>
                    <option value="Christian">Christian</option>
                    <option value="Sikh">Sikh</option>
                    <option value="Buddhist">Buddhist</option>
                    <option value="Jain">Jain</option>
                    <option value="Other">Other</option>
                </select>
                <div id="religion-error" style="color: #dc3545; font-size: 12px; margin-top: 5px; display: none;"></div>
            </div>
            <div>
                <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #555;">Caste/Community *</label>
                <select id="caste" style="width: 100%; padding: 15px; border: 2px solid #ddd; border-radius: 10px; font-size: 16px; transition: all 0.3s ease;">
                    <option value="">Select Caste/Community</option>
                    <option value="Brahmin">Brahmin</option>
                    <option value="Kshatriya">Kshatriya</option>
                    <option value="Vaishya">Vaishya</option>
                    <option value="Shudra">Shudra</option>
                    <option value="Other">Other</option>
                </select>
                <div id="caste-error" style="color: #dc3545; font-size: 12px; margin-top: 5px; display: none;"></div>
            </div>
            <div style="grid-column: 1 / -1;">
                <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #555;">Sub Caste (Optional)</label>
                <input type="text" id="subCaste" placeholder="Enter your sub-caste" style="width: 100%; padding: 15px; border: 2px solid #ddd; border-radius: 10px; font-size: 16px; transition: all 0.3s ease;">
                <div id="subcasteOptions" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px; margin-top: 10px; display: none;"></div>
            </div>
            <div>
                <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #555;">Mother Tongue *</label>
                <select id="motherTongue" style="width: 100%; padding: 15px; border: 2px solid #ddd; border-radius: 10px; font-size: 16px; transition: all 0.3s ease;">
                    <option value="">Select Mother Tongue</option>
                    <option value="Hindi">Hindi</option>
                    <option value="Bengali">Bengali</option>
                    <option value="Tamil">Tamil</option>
                    <option value="Telugu">Telugu</option>
                    <option value="Marathi">Marathi</option>
                    <option value="Gujarati">Gujarati</option>
                    <option value="Other">Other</option>
                </select>
                <div id="motherTongue-error" style="color: #dc3545; font-size: 12px; margin-top: 5px; display: none;"></div>
            </div>
        </div>
        
        <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 40px;">
            <button onclick="showSection(1)" style="background: #f5f5f5; color: #333; border: none; padding: 15px 30px; border-radius: 50px; font-size: 16px; font-weight: 600; cursor: pointer; display: inline-flex; align-items: center; gap: 8px; transition: all 0.3s ease;">
                <i class="fas fa-arrow-left"></i> Back
            </button>
            <button onclick="validateSection(2)" style="background: linear-gradient(135deg, #ff3366, #ff4b2b); color: white; border: none; padding: 18px 40px; border-radius: 50px; font-size: 18px; font-weight: 600; cursor: pointer; box-shadow: 0 4px 15px rgba(255, 51, 102, 0.3); transition: all 0.3s ease; display: inline-flex; align-items: center; gap: 10px;">
                Continue <i class="fas fa-arrow-right"></i>
            </button>
        </div>
    </div>

    <!-- Section 3: Education & Career -->
    <div id="section3" style="display: none;">
        <h2 style="color: #ff3366; text-align: center; margin-bottom: 10px; font-size: 2rem;">Education & Career</h2>
        <p style="color: #666; text-align: center; margin-bottom: 30px; font-size: 1.1rem;">Information about your education and profession</p>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
            <div>
                <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #555;">Highest Education *</label>
                <select id="education" style="width: 100%; padding: 15px; border: 2px solid #ddd; border-radius: 10px; font-size: 16px; transition: all 0.3s ease;">
                    <option value="">Select Education Level</option>
                    <option value="High School">High School</option>
                    <option value="Bachelor's Degree">Bachelor's Degree</option>
                    <option value="Master's Degree">Master's Degree</option>
                    <option value="Doctorate">Doctorate</option>
                    <option value="Diploma">Diploma</option>
                    <option value="Other">Other</option>
                </select>
                <div id="education-error" style="color: #dc3545; font-size: 12px; margin-top: 5px; display: none;"></div>
            </div>
            <div>
                <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #555;">College/University</label>
                <input type="text" id="college" placeholder="Enter your college/university name" style="width: 100%; padding: 15px; border: 2px solid #ddd; border-radius: 10px; font-size: 16px; transition: all 0.3s ease;">
            </div>
            <div>
                <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #555;">Profession *</label>
                <select id="profession" style="width: 100%; padding: 15px; border: 2px solid #ddd; border-radius: 10px; font-size: 16px; transition: all 0.3s ease;">
                    <option value="">Select Profession</option>
                    <option value="Software Professional">Software Professional</option>
                    <option value="Doctor">Doctor</option>
                    <option value="Engineer">Engineer</option>
                    <option value="Teacher">Teacher</option>
                    <option value="Business Owner">Business Owner</option>
                    <option value="Government Employee">Government Employee</option>
                    <option value="Private Employee">Private Employee</option>
                    <option value="Student">Student</option>
                    <option value="Other">Other</option>
                </select>
                <div id="profession-error" style="color: #dc3545; font-size: 12px; margin-top: 5px; display: none;"></div>
            </div>
            <div>
                <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #555;">Annual Income (â‚¹) *</label>
                <select id="income" style="width: 100%; padding: 15px; border: 2px solid #ddd; border-radius: 10px; font-size: 16px; transition: all 0.3s ease;">
                    <option value="">Select Income Range</option>
                    <option value="0-5 Lakhs">0-5 Lakhs</option>
                    <option value="5-10 Lakhs">5-10 Lakhs</option>
                    <option value="10-20 Lakhs">10-20 Lakhs</option>
                    <option value="20-30 Lakhs">20-30 Lakhs</option>
                    <option value="30+ Lakhs">30+ Lakhs</option>
                </select>
                <div id="income-error" style="color: #dc3545; font-size: 12px; margin-top: 5px; display: none;"></div>
            </div>
        </div>
        
        <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 40px;">
            <button onclick="showSection(2)" style="background: #f5f5f5; color: #333; border: none; padding: 15px 30px; border-radius: 50px; font-size: 16px; font-weight: 600; cursor: pointer; display: inline-flex; align-items: center; gap: 8px; transition: all 0.3s ease;">
                <i class="fas fa-arrow-left"></i> Back
            </button>
            <button onclick="validateSection(3)" style="background: linear-gradient(135deg, #ff3366, #ff4b2b); color: white; border: none; padding: 18px 40px; border-radius: 50px; font-size: 18px; font-weight: 600; cursor: pointer; box-shadow: 0 4px 15px rgba(255, 51, 102, 0.3); transition: all 0.3s ease; display: inline-flex; align-items: center; gap: 10px;">
                Continue <i class="fas fa-arrow-right"></i>
            </button>
        </div>
    </div>

    <!-- Section 4: Contact Details -->
    <div id="section4" style="display: none;">
        <h2 style="color: #ff3366; text-align: center; margin-bottom: 10px; font-size: 2rem;">Verify Your Account</h2>
        <p style="color: #666; text-align: center; margin-bottom: 30px; font-size: 1.1rem;">Please enter your contact details to complete registration</p>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
            <div style="grid-column: 1 / -1;">
                <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #555;">Mobile Number *</label>
                <input type="tel" id="mobile" placeholder="Enter 10-digit mobile number" style="width: 100%; padding: 15px; border: 2px solid #ddd; border-radius: 10px; font-size: 16px; transition: all 0.3s ease;">
                <div id="mobile-error" style="color: #dc3545; font-size: 12px; margin-top: 5px; display: none;"></div>
            </div>
            <div>
                <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #555;">Email Address *</label>
                <input type="email" id="email" placeholder="Enter your email address" style="width: 100%; padding: 15px; border: 2px solid #ddd; border-radius: 10px; font-size: 16px; transition: all 0.3s ease;">
                <div id="email-error" style="color: #dc3545; font-size: 12px; margin-top: 5px; display: none;"></div>
            </div>
            <div>
                <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #555;">Password *</label>
                <input type="password" id="password" placeholder="Create a strong password" style="width: 100%; padding: 15px; border: 2px solid #ddd; border-radius: 10px; font-size: 16px; transition: all 0.3s ease;">
                <div style="color: #666; font-size: 12px; margin-top: 5px;">Minimum 8 characters with letters and numbers</div>
                <div id="password-error" style="color: #dc3545; font-size: 12px; margin-top: 5px; display: none;"></div>
            </div>
        </div>
        
        <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 40px;">
            <button onclick="showSection(3)" style="background: #f5f5f5; color: #333; border: none; padding: 15px 30px; border-radius: 50px; font-size: 16px; font-weight: 600; cursor: pointer; display: inline-flex; align-items: center; gap: 8px; transition: all 0.3s ease;">
                <i class="fas fa-arrow-left"></i> Back
            </button>
            <button onclick="validateSection(4)" style="background: linear-gradient(135deg, #ff3366, #ff4b2b); color: white; border: none; padding: 18px 40px; border-radius: 50px; font-size: 18px; font-weight: 600; cursor: pointer; box-shadow: 0 4px 15px rgba(255, 51, 102, 0.3); transition: all 0.3s ease; display: inline-flex; align-items: center; gap: 10px;">
                Register <i class="fas fa-user-plus"></i>
            </button>
        </div>
    </div>

    <!-- Section 5: Success -->
    <div id="section5" style="display: none; text-align: center; padding: 40px 20px;">
        <div style="font-size: 5rem; color: #4CAF50; margin-bottom: 20px;">
            <i class="fas fa-check-circle"></i>
        </div>
        <h2 style="color: #ff3366; text-align: center; margin-bottom: 10px; font-size: 2rem;">Profile Created Successfully!</h2>
        <p style="color: #666; text-align: center; margin-bottom: 30px; font-size: 1.1rem;">
            Thank you for creating your profile. We've sent a verification email to your registered email address. 
            Please verify your email to activate your account and start finding your perfect match.
        </p>
        <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
            <button onclick="goToHome()" style="background: linear-gradient(135deg, #ff3366, #ff4b2b); color: white; border: none; padding: 15px 30px; border-radius: 50px; font-size: 16px; font-weight: 600; cursor: pointer; box-shadow: 0 4px 15px rgba(255, 51, 102, 0.3); transition: all 0.3s ease; display: inline-flex; align-items: center; gap: 8px;">
                <i class="fas fa-home"></i> Go to Home
            </button>
            <button onclick="goToLogin()" style="background: linear-gradient(135deg, #4CAF50, #45a049); color: white; border: none; padding: 15px 30px; border-radius: 50px; font-size: 16px; font-weight: 600; cursor: pointer; box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3); transition: all 0.3s ease; display: inline-flex; align-items: center; gap: 8px;">
                <i class="fas fa-sign-in-alt"></i> Login Now
            </button>
        </div>
    </div>
</div>

<script>
    let profileData = {};
    const subcasteData = {
        'Brahmin': ['Iyer', 'Iyengar', 'Kanyakubj', 'Gaur', 'Saraswat', 'Maithil', 'Other'],
        'Kshatriya': ['Rajput', 'Maratha', 'Jat', 'Gurjar', 'Thakur', 'Bhumihar', 'Other'],
        'Vaishya': ['Agarwal', 'Gupta', 'Mahajan', 'Lohana', 'Khatri', 'Baniya', 'Other'],
        'Shudra': ['Yadav', 'Kurmi', 'Koiri', 'Lodh', 'Other'],
        'Other': ['Please specify']
    };

    // Validation functions
    function validateMobile(mobile) {
        const mobileRegex = /^[6-9]\d{9}$/;
        return mobileRegex.test(mobile);
    }

    function validateAge(dob) {
        const birthDate = new Date(dob);
        const today = new Date();
        const age = today.getFullYear() - birthDate.getFullYear();
        const monthDiff = today.getMonth() - birthDate.getMonth();
        
        if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthDate.getDate())) {
            return age - 1;
        }
        return age;
    }

    function validateEmail(email) {
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return emailRegex.test(email);
    }

    function validatePassword(password) {
        return password.length >= 8;
    }

    function showError(elementId, message) {
        const errorElement = document.getElementById(elementId + '-error');
        if (errorElement) {
            errorElement.textContent = message;
            errorElement.style.display = 'block';
        }
        const inputElement = document.getElementById(elementId);
        if (inputElement) {
            inputElement.style.borderColor = '#dc3545';
        }
    }

    function clearError(elementId) {
        const errorElement = document.getElementById(elementId + '-error');
        if (errorElement) {
            errorElement.style.display = 'none';
        }
        const inputElement = document.getElementById(elementId);
        if (inputElement) {
            inputElement.style.borderColor = '#ddd';
        }
    }

    function showSection(index) {
        // Hide all sections
        for (let i = 0; i <= 5; i++) {
            document.getElementById("section" + i).style.display = "none";
        }
        
        // Show target section
        document.getElementById("section" + index).style.display = "block";
        
        // Update progress bar
        updateProgressBar(index);
    }

    function updateProgressBar(currentStep) {
        for (let i = 0; i <= 4; i++) {
            const step = document.getElementById("step" + i);
            if (i < currentStep) {
                step.style.background = '#4CAF50';
                step.style.color = 'white';
            } else if (i === currentStep) {
                step.style.background = '#ff3366';
                step.style.color = 'white';
            } else {
                step.style.background = '#f5f5f5';
                step.style.color = '#333';
            }
        }
    }

    // Profile option selection
    document.querySelectorAll('.profile-option').forEach(option => {
        option.addEventListener('click', function() {
            document.querySelectorAll('.profile-option').forEach(el => {
                el.style.borderColor = '#ddd';
                el.style.transform = 'none';
                el.style.boxShadow = 'none';
            });
            this.style.borderColor = '#ff3366';
            this.style.transform = 'translateY(-5px)';
            this.style.boxShadow = '0 4px 15px rgba(255, 51, 102, 0.1)';
            profileData.profileFor = this.dataset.option;
            document.getElementById('profile-error').style.display = 'none';
        });
    });

    // Subcaste dynamic options
    document.getElementById('caste').addEventListener('change', function() {
        const caste = this.value;
        const subcasteOptions = document.getElementById('subcasteOptions');
        const subCasteInput = document.getElementById('subCaste');
        
        if (caste && subcasteData[caste]) {
            subcasteOptions.innerHTML = subcasteData[caste].map(subcaste => 
                `<div class="subcaste-option" data-value="${subcaste}" style="padding: 10px; border: 1px solid #ddd; border-radius: 5px; text-align: center; cursor: pointer; transition: all 0.3s ease;">${subcaste}</div>`
            ).join('');
            subcasteOptions.style.display = 'grid';
            
            // Add click event to subcaste options
            document.querySelectorAll('.subcaste-option').forEach(option => {
                option.addEventListener('click', function() {
                    document.querySelectorAll('.subcaste-option').forEach(el => {
                        el.style.background = 'white';
                        el.style.color = '#333';
                    });
                    this.style.background = '#ff3366';
                    this.style.color = 'white';
                    subCasteInput.value = this.dataset.value;
                });
            });
        } else {
            subcasteOptions.style.display = 'none';
            subCasteInput.value = '';
        }
    });

    function validateProfileSelection() {
        if (!profileData.profileFor) {
            document.getElementById('profile-error').style.display = 'block';
            return;
        }
        showSection(1);
    }

    function validateSection(step) {
        let isValid = true;
        
        if (step === 1) {
            // Validate Basic Information
            const fields = [
                { id: 'firstName', required: true },
                { id: 'lastName', required: true },
                { id: 'dob', required: true },
                { id: 'gender', required: true },
                { id: 'maritalStatus', required: true }
            ];

            fields.forEach(field => {
                const element = document.getElementById(field.id);
                if (field.required && !element.value.trim()) {
                    showError(field.id, 'This field is required');
                    isValid = false;
                } else {
                    clearError(field.id);
                    profileData[field.id] = element.value;
                }
            });

            // Validate age
            if (profileData.dob) {
                const age = validateAge(profileData.dob);
                if (age < 18) {
                    showError('dob', 'You must be at least 18 years old');
                    isValid = false;
                }
            }

            if (!isValid) {
                return;
            }

            // Handle profile image
            const file = document.getElementById('profileImage').files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    profileData.profileImage = e.target.result;
                    showSection(2);
                };
                reader.readAsDataURL(file);
            } else {
                profileData.profileImage = null;
                showSection(2);
            }

        } else if (step === 2) {
            // Validate Religious Details
            const fields = [
                { id: 'religion', required: true },
                { id: 'caste', required: true },
                { id: 'motherTongue', required: true }
            ];

            fields.forEach(field => {
                const element = document.getElementById(field.id);
                if (field.required && !element.value) {
                    showError(field.id, 'This field is required');
                    isValid = false;
                } else {
                    clearError(field.id);
                    profileData[field.id] = element.value;
                }
            });

            profileData.subCaste = document.getElementById('subCaste').value;

            if (!isValid) {
                return;
            }
            showSection(3);

        } else if (step === 3) {
            // Validate Education & Career
            const fields = [
                { id: 'education', required: true },
                { id: 'profession', required: true },
                { id: 'income', required: true }
            ];

            fields.forEach(field => {
                const element = document.getElementById(field.id);
                if (field.required && !element.value) {
                    showError(field.id, 'This field is required');
                    isValid = false;
                } else {
                    clearError(field.id);
                    profileData[field.id] = element.value;
                }
            });

            profileData.college = document.getElementById('college').value;

            if (!isValid) {
                return;
            }
            showSection(4);

        } else if (step === 4) {
            // Validate Contact Details
            const fields = [
                { id: 'mobile', required: true },
                { id: 'email', required: true },
                { id: 'password', required: true }
            ];

            fields.forEach(field => {
                const element = document.getElementById(field.id);
                if (field.required && !element.value.trim()) {
                    showError(field.id, 'This field is required');
                    isValid = false;
                } else {
                    clearError(field.id);
                    profileData[field.id] = element.value;
                }
            });

            // Validate mobile number
            if (profileData.mobile && !validateMobile(profileData.mobile)) {
                showError('mobile', 'Please enter a valid 10-digit mobile number starting with 6-9');
                isValid = false;
            }

            // Validate email
            if (profileData.email && !validateEmail(profileData.email)) {
                showError('email', 'Please enter a valid email address');
                isValid = false;
            }

            // Validate password
            if (profileData.password && !validatePassword(profileData.password)) {
                showError('password', 'Password must be at least 8 characters long');
                isValid = false;
            }

            if (!isValid) {
                return;
            }

            // Submit data to backend
            submitProfileData();
        }
    }

    function submitProfileData() {
        // Show loading state
        const submitBtn = document.querySelector('#section4 button');
        const originalText = submitBtn.innerHTML;
        submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Creating Profile...';
        submitBtn.disabled = true;

        fetch("http://localhost:5000/api/new_profilecreation", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(profileData)
        })
        .then(async res => {
            const data = await res.json();
            if (!res.ok) {
                throw new Error(data.message || 'Failed to create profile');
            }
            return data;
        })
        .then(data => {
            console.log("API Response:", data);
            if (data.success) {
                showSection(5);
            } else {
                throw new Error(data.message || 'Failed to create profile');
            }
        })
        .catch(err => {
            console.error("Fetch Error:", err);
            alert("Error: " + err.message);
            
            // Reset button state
            submitBtn.innerHTML = originalText;
            submitBtn.disabled = false;
        });
    }

    // Image preview
    document.getElementById('profileImage').addEventListener('change', function () {
        const file = this.files[0];
        const previewImg = document.getElementById('previewImg');
        
        if (file) {
            const reader = new FileReader();
            reader.onload = function (e) {
                previewImg.src = e.target.result;
                previewImg.style.display = 'block';
            };
            reader.readAsDataURL(file);
        } else {
            previewImg.style.display = 'none';
        }
    });

    function goToHome() {
        window.location.href = 'index.html';
    }

    function goToLogin() {
        window.location.href = 'login2.html';
    }

    // Initialize progress bar
    updateProgressBar(0);
</script>
</body>
</html>