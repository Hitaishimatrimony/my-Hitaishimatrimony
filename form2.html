<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matrimony Profile Form</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7fafc;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
            padding: 20px;
            box-sizing: border-box;
        }
        .form-container {
            background-color: #ffffff;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            width: 100%;
            max-width: 800px;
            box-sizing: border-box;
        }
        h2 {
            color: #e83e8c;
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 20px;
            border-bottom: 2px solid #e83e8c;
            padding-bottom: 10px;
        }
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #4a5568;
        }
        input[type="text"],
        input[type="date"],
        input[type="number"],
        input[type="file"],
        select,
        textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #cbd5e0;
            border-radius: 8px;
            font-size: 1rem;
            color: #2d3748;
            box-sizing: border-box;
            transition: border-color 0.2s;
        }
        input[type="text"]:focus,
        input[type="date"]:focus,
        input[type="number"]:focus,
        input[type="file"]:focus,
        select:focus,
        textarea:focus {
            outline: none;
            border-color: #e83e8c;
            box-shadow: 0 0 0 3px rgba(232, 62, 140, 0.2);
        }
        .form-group {
            margin-bottom: 20px;
        }
        .flex-group {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
            flex-wrap: wrap; /* Allow wrapping on smaller screens */
        }
        .flex-group > div {
            flex: 1;
            min-width: 280px; /* Minimum width for flex items */
        }
        .radio-group label {
            display: flex;
            align-items: center;
            margin-right: 20px;
            font-weight: 400;
        }
        .radio-group input[type="radio"] {
            margin-right: 8px;
            width: auto;
            padding: 0;
            border-radius: 50%;
        }
        button[type="submit"] {
            padding: 14px 40px;
            background-color: #e83e8c;
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            font-size: 1.1rem;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        button[type="submit"]:hover {
            background-color: #d62e7c;
            transform: translateY(-2px);
        }
        button[type="submit"]:active {
            transform: translateY(0);
        }
        .message-box {
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px;
            font-weight: 600;
            text-align: center;
            display: none; /* Hidden by default */
        }
        .message-box.success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .message-box.error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .flex-group {
                flex-direction: column;
                gap: 0; /* Remove gap when stacked */
            }
            .flex-group > div {
                min-width: unset; /* Reset min-width */
                width: 100%; /* Take full width */
                margin-bottom: 20px; /* Add margin between stacked items */
            }
            .flex-group > div:last-child {
                margin-bottom: 0; /* No margin after the last item in a stacked group */
            }
            .form-container {
                padding: 20px;
            }
            h2 {
                font-size: 1.3rem;
            }
        }
    </style>
</head>
<body>
    <div class="form-container">
        <form id="matrimonyForm">
            <!-- Basic Information Section -->
            <div class="form-group">
                <h2>Basic Information</h2>
                
                <div class="flex-group">
                    <div>
                        <label for="firstName">First Name*</label>
                        <input type="text" id="firstName" name="firstName" required>
                    </div>
                    <div>
                        <label for="lastName">Last Name*</label>
                        <input type="text" id="lastName" name="lastName" required>
                    </div>
                </div>
                
                <div class="flex-group">
                    <div>
                        <label for="gender">Gender*</label>
                        <select id="gender" name="gender" required>
                            <option value="">Select</option>
                            <option value="male">Male</option>
                            <option value="female">Female</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    <div>
                        <label for="dob">Date of Birth*</label>
                        <input type="date" id="dob" name="dob" required>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="profilePhoto">Profile Photo*</label>
                    <input type="file" id="profilePhoto" name="profilePhoto" accept="image/*" required>
                </div>
                
                <div class="form-group">
                    <label for="about">About Yourself*</label>
                    <textarea id="about" name="about" required></textarea>
                </div>
            </div>

            <!-- Family Information Section -->
            <div class="form-group">
                <h2>Family Information</h2>
                
                <div class="flex-group">
                    <div>
                        <label for="fatherName">Father's Name*</label>
                        <input type="text" id="fatherName" name="fatherName" required>
                    </div>
                    <div>
                        <label for="fatherOccupation">Father's Occupation</label>
                        <input type="text" id="fatherOccupation" name="fatherOccupation">
                    </div>
                </div>
                
                <div class="flex-group">
                    <div>
                        <label for="motherName">Mother's Name*</label>
                        <input type="text" id="motherName" name="motherName" required>
                    </div>
                    <div>
                        <label for="motherOccupation">Mother's Occupation</label>
                        <input type="text" id="motherOccupation" name="motherOccupation">
                    </div>
                </div>
                
                <div class="flex-group">
                    <div>
                        <label for="siblings">Number of Siblings</label>
                        <select id="siblings" name="siblings">
                            <option value="">Select</option>
                            <option value="0">0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3+">3+</option>
                        </select>
                    </div>
                    <div>
                        <label for="familyType">Family Type</label>
                        <select id="familyType" name="familyType">
                            <option value="">Select</option>
                            <option value="joint">Joint Family</option>
                            <option value="nuclear">Nuclear Family</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="familyValues">Family Values</label>
                    <select id="familyValues" name="familyValues">
                        <option value="">Select</option>
                        <option value="traditional">Traditional</option>
                        <option value="moderate">Moderate</option>
                        <option value="liberal">Liberal</option>
                    </select>
                </div>
            </div>

            <!-- Religious Information Section -->
            <div class="form-group">
                <h2>Religious Information</h2>
                
                <div class="flex-group">
                    <div>
                        <label for="religion">Religion*</label>
                        <select id="religion" name="religion" required>
                            <option value="">Select</option>
                            <option value="hindu">Hindu</option>
                            <option value="muslim">Muslim</option>
                            <option value="christian">Christian</option>
                            <option value="sikh">Sikh</option>
                            <option value="jain">Jain</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    <div>
                        <label for="caste">Caste*</label>
                        <input type="text" id="caste" name="caste" required>
                    </div>
                </div>
                
                <div class="flex-group">
                    <div>
                        <label for="subCaste">Sub-Caste</label>
                        <input type="text" id="subCaste" name="subCaste">
                    </div>
                    <div>
                        <label for="gothram">Gothram</label>
                        <input type="text" id="gothram" name="gothram">
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="motherTongue">Mother Tongue*</label>
                    <select id="motherTongue" name="motherTongue" required>
                        <option value="">Select</option>
                        <option value="hindi">Hindi</option>
                        <option value="english">English</option>
                        <option value="bengali">Bengali</option>
                        <option value="tamil">Tamil</option>
                        <option value="telugu">Telugu</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="diet">Dietary Preference*</label>
                    <select id="diet" name="diet" required>
                        <option value="">Select</option>
                        <option value="vegetarian">Vegetarian</option>
                        <option value="eggetarian">Eggetarian</option>
                        <option value="non-vegetarian">Non-Vegetarian</option>
                        <option value="vegan">Vegan</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Horoscope Available?*</label>
                    <div class="flex radio-group">
                        <label>
                            <input type="radio" name="horoscope" value="yes" required> Yes
                        </label>
                        <label>
                            <input type="radio" name="horoscope" value="no"> No
                        </label>
                    </div>
                </div>
            </div>

            <!-- Physical Attributes Section -->
            <div class="form-group">
                <h2>Physical Attributes</h2>
                
                <div class="flex-group">
                    <div>
                        <label for="height">Height*</label>
                        <select id="height" name="height" required>
                            <option value="">Select Height</option>
                            <option value="4.5">4'5" (135 cm)</option>
                            <option value="4.6">4'6" (137 cm)</option>
                            <option value="4.7">4'7" (140 cm)</option>
                            <option value="4.8">4'8" (142 cm)</option>
                            <option value="4.9">4'9" (145 cm)</option>
                            <option value="4.10">4'10" (147 cm)</option>
                            <option value="4.11">4'11" (150 cm)</option>
                            <option value="5.0">5'0" (152 cm)</option>
                            <option value="5.1">5'1" (155 cm)</option>
                            <option value="5.2">5'2" (157 cm)</option>
                            <option value="5.3">5'3" (160 cm)</option>
                            <option value="5.4">5'4" (163 cm)</option>
                            <option value="5.5">5'5" (165 cm)</option>
                            <option value="5.6">5'6" (168 cm)</option>
                            <option value="5.7">5'7" (170 cm)</option>
                            <option value="5.8">5'8" (173 cm)</option>
                            <option value="5.9">5'9" (175 cm)</option>
                            <option value="5.10">5'10" (178 cm)</option>
                            <option value="5.11">5'11" (180 cm)</option>
                            <option value="6.0">6'0" (183 cm)</option>
                            <option value="6.1">6'1" (185 cm)</option>
                            <option value="6.2">6'2" (188 cm)</option>
                            <option value="6.3">6'3" (190 cm)</option>
                            <option value="6.4">6'4" (193 cm)</option>
                            <option value="6.5">6'5" (196 cm)</option>
                        </select>
                    </div>
                    <div>
                        <label for="weight">Weight (kg)</label>
                        <input type="number" id="weight" name="weight">
                    </div>
                </div>
                
                <div class="flex-group">
                    <div>
                        <label for="bloodGroup">Blood Group</label>
                        <select id="bloodGroup" name="bloodGroup">
                            <option value="">Select</option>
                            <option value="A+">A+</option>
                            <option value="A-">A-</option>
                            <option value="B+">B+</option>
                            <option value="B-">B-</option>
                            <option value="AB+">AB+</option>
                            <option value="AB-">AB-</option>
                            <option value="O+">O+</option>
                            <option value="O-">O-</option>
                        </select>
                    </div>
                    <div>
                        <label for="complexion">Complexion</label>
                        <select id="complexion" name="complexion">
                            <option value="">Select</option>
                            <option value="very-fair">Very Fair</option>
                            <option value="fair">Fair</option>
                            <option value="wheatish">Wheatish</option>
                            <option value="wheatish-brown">Wheatish Brown</option>
                            <option value="dark">Dark</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="disability">Physical Disability (if any)</label>
                    <input type="text" id="disability" name="disability" placeholder="Specify if any">
                </div>
            </div>

            <!-- Professional Information Section -->
            <div class="form-group">
                <h2>Professional Information</h2>
                
                <div class="form-group">
                    <label for="education">Highest Education*</label>
                    <select id="education" name="education" required>
                        <option value="">Select</option>
                        <option value="high-school">High School</option>
                        <option value="diploma">Diploma</option>
                        <option value="bachelors">Bachelor's Degree</option>
                        <option value="masters">Master's Degree</option>
                        <option value="phd">PhD</option>
                        <option value="professional">Professional Degree (CA, CS, etc.)</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="educationField">Education Field*</label>
                    <input type="text" id="educationField" name="educationField" required>
                </div>
                
                <div class="form-group">
                    <label for="occupation">Occupation*</label>
                    <select id="occupation" name="occupation" required>
                        <option value="">Select</option>
                        <option value="engineer">Engineer</option>
                        <option value="doctor">Doctor</option>
                        <option value="teacher">Teacher</option>
                        <option value="business">Business</option>
                        <option value="government">Government Job</option>
                        <option value="private">Private Sector</option>
                        <option value="self-employed">Self Employed</option>
                        <option value="student">Student</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                
                <div class="flex-group">
                    <div>
                        <label for="jobTitle">Job Title</label>
                        <input type="text" id="jobTitle" name="jobTitle">
                    </div>
                    <div>
                        <label for="company">Company Name</label>
                        <input type="text" id="company" name="company">
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="income">Annual Income (â‚¹)*</label>
                    <select id="income" name="income" required>
                        <option value="">Select</option>
                        <option value="1-3">1-3 Lakhs</option>
                        <option value="3-6">3-6 Lakhs</option>
                        <option value="6-10">6-10 Lakhs</option>
                        <option value="10-15">10-15 Lakhs</option>
                        <option value="15-20">15-20 Lakhs</option>
                        <option value="20-30">20-30 Lakhs</option>
                        <option value="30-50">30-50 Lakhs</option>
                        <option value="50+">50+ Lakhs</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="workLocation">Work Location</label>
                    <input type="text" id="workLocation" name="workLocation">
                </div>
            </div>

            <!-- Lifestyle Information Section -->
            <div class="form-group">
                <h2>Lifestyle Information</h2>
                
                <div class="form-group">
                    <label for="maritalStatus">Marital Status*</label>
                    <select id="maritalStatus" name="maritalStatus" required>
                        <option value="">Select</option>
                        <option value="never-married">Never Married</option>
                        <option value="divorced">Divorced</option>
                        <option value="widowed">Widowed</option>
                        <option value="separated">Separated</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="children">Children (if any)</label>
                    <select id="children" name="children">
                        <option value="">Select</option>
                        <option value="0">No Children</option>
                        <option value="1">1 Child</option>
                        <option value="2">2 Children</option>
                        <option value="3+">3+ Children</option>
                    </select>
                </div>
                
                <div class="flex-group">
                    <div>
                        <label for="drinking">Drinking Habits</label>
                        <select id="drinking" name="drinking">
                            <option value="">Select</option>
                            <option value="never">Never</option>
                            <option value="occasionally">Occasionally</option>
                            <option value="regularly">Regularly</option>
                        </select>
                    </div>
                    <div>
                        <label for="smoking">Smoking Habits</label>
                        <select id="smoking" name="smoking">
                            <option value="">Select</option>
                            <option value="never">Never</option>
                            <option value="occasionally">Occasionally</option>
                            <option value="regularly">Regularly</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="hobbies">Hobbies & Interests</label>
                    <textarea id="hobbies" name="hobbies"></textarea>
                </div>
            </div>

            <div class="text-center mt-8">
                <button type="submit">Create Profile</button>
            </div>
        </form>

        <div id="messageBox" class="message-box"></div>
    </div>

    <script>
        // Function to display messages
        function showMessage(message, type) {
            const messageBox = document.getElementById('messageBox');
            messageBox.textContent = message;
            messageBox.className = `message-box ${type}`; // Add type class for styling
            messageBox.style.display = 'block'; // Make it visible
            setTimeout(() => {
                messageBox.style.display = 'none'; // Hide after 5 seconds
            }, 5000);
        }

        async function validateForm(event) {
            // Prevent default form submission
            event.preventDefault();
            
            try {
                const form = document.getElementById('matrimonyForm');
                const formData = new FormData(form); // Use the form element directly

                // For radio buttons and other special cases, FormData should pick them up if they have 'name' attributes
                // However, explicitly ensuring 'horoscope' is appended is good practice if its value might be conditional
                const horoscope = document.querySelector('input[name="horoscope"]:checked');
                if (horoscope) {
                    formData.set('horoscope', horoscope.value); // Use .set to ensure it's updated if already present
                } else {
                    // If horoscope is required and not selected, handle it
                    if (document.querySelector('input[name="horoscope"][required]')) {
                        throw new Error('Please select whether horoscope is available.');
                    }
                }

                // Send API POST request
                const response = await fetch('http://localhost:5000/api/create_profile', {
                    method: 'POST',
                    body: formData,
                    // Headers are automatically set by FormData for multipart/form-data
                });

                const data = await response.json();
                
                if (!response.ok) {
                    // Log the full error response from the server for debugging
                    console.error('Server Error Response:', data);
                    throw new Error(data.error || 'Failed to create profile');
                }

                showMessage("Profile created successfully!", "success");
                form.reset(); // Reset the form after successful submission
            } catch (error) {
                console.error('Frontend Error:', error);
                showMessage(error.message || "Something went wrong while submitting the form.", "error");
            }
        }
        

        // Attach event listener after the DOM is fully loaded
        document.addEventListener('DOMContentLoaded', () => {
            const form = document.getElementById('matrimonyForm');
            if (form) {
                form.addEventListener('submit', validateForm);
            } else {
                console.error('Form with ID "matrimonyForm" not found.');
            }
        });
    </script>
</body>
</html>






// routes/api.js
const express = require('express');
const router = express.Router();
const db = require('../db');
const multer = require('multer');
const path = require('path');
const fs = require('fs');

// Create 'uploads' folder if it doesn't exist
const uploadDir = path.join(__dirname, '../uploads');
if (!fs.existsSync(uploadDir)) {
  fs.mkdirSync(uploadDir);
}

// Configure multer for image upload
const storage = multer.diskStorage({
  destination: function (req, file, cb) {
    cb(null, uploadDir);
  },
  filename: function (req, file, cb) {
    const ext = path.extname(file.originalname);
    const uniqueName = `${Date.now()}-${Math.round(Math.random() * 1e9)}${ext}`;
    cb(null, uniqueName);
  }
});
const upload = multer({ storage });

// Create table if not exists
const createTable = async () => {
  const query = `
    CREATE TABLE IF NOT EXISTS create_profiles (
      id INT AUTO_INCREMENT PRIMARY KEY,
      firstName VARCHAR(100),
      lastName VARCHAR(100),
      gender VARCHAR(20),
      dob DATE,
      profilePhoto VARCHAR(255),
      about TEXT,
      fatherName VARCHAR(100),
      fatherOccupation VARCHAR(100),
      motherName VARCHAR(100),
      motherOccupation VARCHAR(100),
      siblings VARCHAR(50),
      familyType VARCHAR(50),
      familyValues VARCHAR(50),
      religion VARCHAR(100),
      caste VARCHAR(100),
      subCaste VARCHAR(100),
      gothram VARCHAR(100),
      motherTongue VARCHAR(100),
      diet VARCHAR(50),
      horoscope VARCHAR(50),
      height VARCHAR(50),
      weight VARCHAR(50),
      bloodGroup VARCHAR(10),
      complexion VARCHAR(50),
      disability VARCHAR(100),
      education VARCHAR(100),
      educationField VARCHAR(100),
      occupation VARCHAR(100),
      jobTitle VARCHAR(100),
      company VARCHAR(100),
      income VARCHAR(100),
      workLocation VARCHAR(100),
      maritalStatus VARCHAR(50),
      children VARCHAR(50),
      drinking VARCHAR(50),
      smoking VARCHAR(50),
      hobbies TEXT
    );
  `;
  await db.query(query);
};
createTable();

// API to handle form submission
router.post('/create_profile', upload.single('profilePhoto'), async (req, res) => {
  try {
    const {
      firstName, lastName, gender, dob, about,
      fatherName, fatherOccupation, motherName, motherOccupation, siblings,
      familyType, familyValues, religion, caste, subCaste, gothram,
      motherTongue, diet, horoscope, height, weight, bloodGroup, complexion,
      disability, education, educationField, occupation, jobTitle,
      company, income, workLocation, maritalStatus, children,
      drinking, smoking, hobbies
    } = req.body;

    const profilePhoto = req.file ? req.file.filename : null;

    const query = `
      INSERT INTO create_profiles (
        firstName, lastName, gender, dob, profilePhoto, about,
        fatherName, fatherOccupation, motherName, motherOccupation, siblings,
        familyType, familyValues, religion, caste, subCaste, gothram,
        motherTongue, diet, horoscope, height, weight, bloodGroup, complexion,
        disability, education, educationField, occupation, jobTitle,
        company, income, workLocation, maritalStatus, children,
        drinking, smoking, hobbies
      ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
    `;

    const values = [
      firstName, lastName, gender, dob, profilePhoto, about,
      fatherName, fatherOccupation, motherName, motherOccupation, siblings,
      familyType, familyValues, religion, caste, subCaste, gothram,
      motherTongue, diet, horoscope, height, weight, bloodGroup, complexion,
      disability, education, educationField, occupation, jobTitle,
      company, income, workLocation, maritalStatus, children,
      drinking, smoking, hobbies
    ];

    await db.query(query, values);
    res.status(201).json({ message: 'Profile created successfully' });
  } catch (error) {
    console.error('Error creating profile:', error);
    res.status(500).json({ error: 'Failed to create profile' });
  }
});

module.exports = router;






<!--thanks.html file-->


<!DOCTYPE html>
<html>
<head>
  <title>My Membership</title>
</head>
<body style="font-family: Arial, sans-serif; padding: 30px;">



 <!--membership plans-->

  <section>
  <h2 style="color: #28a745;">My Membership Details</h2>
<!----membership plan get-->
  <input type="text" id="userInput" placeholder="Enter Email or Phone" style="padding: 10px; width: 300px;">
  <button onclick="getMyDetails()" style="padding: 10px;">Get My Plan</button>

  <div id="result" style="margin-top: 30px;"></div>

  <script>
    async function getMyDetails() {
      const identifier = document.getElementById('userInput').value;

      if (!identifier) {
        alert('Please enter your email or phone.');
        return;
      }

      try {
        const response = await fetch(`http://localhost:5000/api/membership_plan/${identifier}`);
        const data = await response.json();

        if (data.message) {
          document.getElementById('result').innerHTML = `<p style="color: red;">${data.message}</p>`;
        } else {
          document.getElementById('result').innerHTML = `
            <table border="1" cellpadding="10" style="border-collapse: collapse;">
              <tr><th>Name</th><td>${data.name}</td></tr>
              <tr><th>Email</th><td>${data.email}</td></tr>
              <tr><th>Phone</th><td>${data.phone}</td></tr>
              <tr><th>Plan</th><td>${data.plan}</td></tr>
              <tr><th>Price</th><td>${data.price}</td></tr>
              <tr><th>Payment Method</th><td>${data.payment_method}</td></tr>
              <tr><th>Date</th><td>${data.date}</td></tr>
            </table>
          `;
        }
      } catch (err) {
        console.error('Fetch error:', err);
        document.getElementById('result').innerHTML = `<p style="color: red;">Error fetching data.</p>`;
      }
    }
  </script>

</section>

<!--contact msges-->

<section>
<!----------contact-->
<h2 style="color:#28a745;">Search Contact by Email or Phone</h2>

  <input type="text" id="searchValue" placeholder="Enter Email or Phone" style="padding:10px;width:300px;">
  <button onclick="searchContact()" style="padding:10px 20px;margin-left:10px;">Search</button>

  <div id="result" style="margin-top:30px;"></div>

  <script>
    function searchContact() {
      const value = document.getElementById('searchValue').value.trim();
      const resultDiv = document.getElementById('result');
      resultDiv.innerHTML = '';

      if (!value) return alert("Please enter a value");

      const isEmail = value.includes('@');
      const endpoint = isEmail ? `email/${value}` : `phone/${value}`;

      fetch(`http://localhost:5000/api/contact/${endpoint}`)
        .then(res => {
          if (!res.ok) throw new Error("Not found");
          return res.json();
        })
        .then(data => {
          const table = document.createElement('table');
          table.border = "1";
          table.cellPadding = "10";
          table.style.borderCollapse = "collapse";

          table.innerHTML = `
            <tr><th>ID</th><th>Name</th><th>Email</th><th>Phone</th><th>Message</th><th>Date</th></tr>
            ${data.map(d => `
              <tr>
                <td>${d.id}</td>
                <td>${d.name}</td>
                <td>${d.email}</td>
                <td>${d.phone}</td>
                <td>${d.message}</td>
                <td>${new Date(d.date).toLocaleString()}</td>
              </tr>
            `).join('')}
          `;
          resultDiv.appendChild(table);
        })
        .catch(() => {
          resultDiv.innerHTML = `<p style="color:red;">No contact found with the given value.</p>`;
        });
    }
  </script>

</section>

<!-----create profile-->
<section>
 <h2 style="color:#2e6da4;">User Profile</h2>
  <input id="emailInput" type="text" placeholder="Enter Email" style="padding:10px; width:250px;">
  <button onclick="getUser()" style="padding:10px 20px; margin-left:10px; background:#5cb85c; color:white; border:none;">Fetch Profile</button>
  
  <div id="result" style="margin-top:20px; background:#fff; padding:15px; border:1px solid #ddd;"></div>

  <script>
    async function getUser() {
      const email = document.getElementById('emailInput').value;
      const res = await fetch(`http://localhost:3000/api/user/${email}`);
      const data = await res.json();

      if (data.error || data.message) {
        document.getElementById('result').innerText = data.error || data.message;
        return;
      }

      document.getElementById('result').innerHTML = `
        <p><strong>Name:</strong> ${data.name}</p>
        <p><strong>Email:</strong> ${data.email}</p>
        <p><strong>Phone:</strong> ${data.phone}</p>
        <p><strong>Gender:</strong> ${data.gender}</p>
        <p><strong>DOB:</strong> ${data.dob}</p>
      `;
    }
  </script>
</section>

  
</body>
</html>
